{"ast":null,"code":"import axios from 'axios';\nimport axiosRetry from 'axios-retry';\n/*\r\n global window\r\n */\n\nvar client = function () {\n  return axios.create({\n    baseURL: process.env.REACT_APP_ID_ENDPOINT\n  });\n}();\n\naxiosRetry(client, {\n  retries: 3\n});\n\nvar request = function request(options, store) {\n  var onSuccess = function onSuccess(response) {\n    console.debug('Request Successful!', response);\n    return response.data;\n  };\n\n  var onError = function onError(error) {\n    return Promise.reject(error.response || error.message);\n  };\n\n  if (process.env.NODE_ENV === 'development') {\n    var AUTH_TOKEN = btoa(\"\".concat(process.env.REACT_APP_USER_NAME, \":\").concat(process.env.REACT_APP_PASSWORD));\n    options.headers = {\n      \"Authorization\": \"Basic \".concat(AUTH_TOKEN)\n    };\n  } else {\n    options.headers = {\n      \"Authorization\": \"Basic \".concat(process.env.REACT_APP_AUTH_TOKEN)\n    };\n  }\n\n  return client(options).then(onSuccess).catch(onError);\n};\n\nexport default request;","map":{"version":3,"sources":["C:\\SourceControl\\idscango-web\\src\\services\\shared\\request.js"],"names":["axios","axiosRetry","client","create","baseURL","process","env","REACT_APP_ID_ENDPOINT","retries","request","options","store","onSuccess","response","console","debug","data","onError","error","Promise","reject","message","NODE_ENV","AUTH_TOKEN","btoa","REACT_APP_USER_NAME","REACT_APP_PASSWORD","headers","REACT_APP_AUTH_TOKEN","then","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA;;;;AAIA,IAAMC,MAAM,GAAI,YAAM;AAClB,SAAOF,KAAK,CAACG,MAAN,CAAa;AAChBC,IAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADL,GAAb,CAAP;AAGH,CAJc,EAAf;;AAMAN,UAAU,CAACC,MAAD,EAAS;AAAEM,EAAAA,OAAO,EAAE;AAAX,CAAT,CAAV;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAASC,OAAT,EAAkBC,KAAlB,EAAyB;AACrC,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAASC,QAAT,EAAmB;AACjCC,IAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd,EAAqCF,QAArC;AACA,WAAOA,QAAQ,CAACG,IAAhB;AACH,GAHD;;AAKA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAASC,KAAT,EAAgB;AAC5B,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAK,CAACL,QAAN,IAAkBK,KAAK,CAACG,OAAvC,CAAP;AACH,GAFD;;AAIA,MAAIhB,OAAO,CAACC,GAAR,CAAYgB,QAAZ,KAAyB,aAA7B,EAA4C;AACxC,QAAIC,UAAU,GAAGC,IAAI,WAAInB,OAAO,CAACC,GAAR,CAAYmB,mBAAhB,cAAuCpB,OAAO,CAACC,GAAR,CAAYoB,kBAAnD,EAArB;AACAhB,IAAAA,OAAO,CAACiB,OAAR,GAAkB;AACd,uCAA0BJ,UAA1B;AADc,KAAlB;AAGH,GALD,MAKO;AACHb,IAAAA,OAAO,CAACiB,OAAR,GAAkB;AACd,uCAA0BtB,OAAO,CAACC,GAAR,CAAYsB,oBAAtC;AADc,KAAlB;AAGH;;AAED,SAAO1B,MAAM,CAACQ,OAAD,CAAN,CACFmB,IADE,CACGjB,SADH,EAEFkB,KAFE,CAEIb,OAFJ,CAAP;AAGH,CAxBD;;AA2BA,eAAeR,OAAf","sourcesContent":["import axios from 'axios'\r\nimport axiosRetry from 'axios-retry';\r\n/*\r\n global window\r\n */\r\n\r\nconst client = (() => {\r\n    return axios.create({\r\n        baseURL: process.env.REACT_APP_ID_ENDPOINT\r\n    });\r\n})();\r\n\r\naxiosRetry(client, { retries: 3 });\r\n\r\nconst request = function(options, store) {\r\n    const onSuccess = function(response) {\r\n        console.debug('Request Successful!', response);\r\n        return response.data;\r\n    };\r\n\r\n    const onError = function(error) {\r\n        return Promise.reject(error.response || error.message);\r\n    };\r\n\r\n    if (process.env.NODE_ENV === 'development') {\r\n        let AUTH_TOKEN = btoa(`${process.env.REACT_APP_USER_NAME}:${process.env.REACT_APP_PASSWORD}`);\r\n        options.headers = {\r\n            \"Authorization\": `Basic ${AUTH_TOKEN}`,\r\n        };\r\n    } else {\r\n        options.headers = {\r\n            \"Authorization\": `Basic ${process.env.REACT_APP_AUTH_TOKEN}`,\r\n        };\r\n    }\r\n\r\n    return client(options)\r\n        .then(onSuccess)\r\n        .catch(onError);\r\n};\r\n\r\n\r\nexport default request;\r\n"]},"metadata":{},"sourceType":"module"}